<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>안전한 합성</title>
    <script src="fx.js"></script>
</head>
<body>
    <h2>안전한 합성에 대해</h2>
    <h3>map으로 합성하기</h3>
    <script>
        const f = x => x + 10;
        const g = x => x - 5;
        const fg = x => f(g(x));

        _.go(
            10, fg, console.log
        );
        _.go(
            [10],
            L.map(fg),
            _.each(console.log)
        );
    </script>
    <h3>find 대신 L.filter 사용하기 </h3>
    <script>
        const users = [
            {name: 'AA', age: 35},
            {name: 'BB', age: 26},
            {name: 'CC', age: 28},
            {name: 'DD', age: 34},
            {name: 'EE', age: 23},
        ];

        const user = _.find(u => u.name == 'BB', users);
        if (user)
            console.log(user.age); // 26

        _.each(
            console.log,
            L.take(1,
                L.filter(u => u.name == 'BB', users))
        );

        _.go(users,
            L.filter(u => u.name == 'AA'),
            L.map(u => u.age),
            L.take(1), 
            _.each(console.log)
        );
    </script>
</body>
</html>