<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="fx.js"></script>
</head>
<body>
    <h2>10. Model</h2>
    <script>
        class Model {
            constructor(attrs = {}) {
                this._attrs = attrs;
            }
            get(k) {
                return this._attrs[k];
            }
            set(k, v) {
                this._attrs[k] = v;
                return this;
            }
        }
        var els = document.querySelectorAll('*');
        console.log(els);
        console.log(els.entries());
    </script>
    <h2>11. Collection</h2>
    <script>
        class Collection {
            constructor(models = []) {
                this._models = models;
            }
            at(idx) {
                return this._models[idx];
            }
            add(model) {
                this._models.push(model);
                return this;
            }
            // *[Symbol.iterator]() {
            //     for (const model of this._models) {
            //         yield model;
            //     }
            // }
            [Symbol.iterator]() {
                return this._models[Symbol.iterator]();
            }
        }
        const coll = new Collection();
        coll.add(new Model({id: 1, name: 'AA'}));
        coll.add(new Model({id: 3, name: 'BB'}));
        coll.add(new Model({id: 5, name: 'CC'}));
        console.log(coll.at(2).get('name'));
        console.log(coll.at(1).get('id'));

        _.go(
            coll,
            L.map(m => m.get('name')),
            _.each(console.log)
        );

        _.go(
            coll,
            _.each(
                m => m.set('name', m.get('name').toLowerCase())
            )
        );
    </script>
</body>
</html>